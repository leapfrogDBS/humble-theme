{"version":3,"file":"mailerlite.min.js","names":["jQuery","document","ready","$","on","e","preventDefault","firstName","val","lastName","email","marketingPermission","is","groupNumber","data","formName","html","validateEmail","ajax","type","url","my_script_vars","ajax_url","action","tracking","window","location","href","success","response","onSuccessfulSubscribe","error","jqXHR","textStatus","errorThrown","querySelector","classList","toggle","console","log","dataLayer","push","re","test","String","toLowerCase"],"sources":["mailerlite.js"],"sourcesContent":["jQuery(document).ready(function($) {\n    $('#mailerlite-subscribe-form').on('submit', function(e) {\n        e.preventDefault();\n\n        var firstName = $('#subscriber-first-name').val();\n        var lastName = $('#subscriber-last-name').val();\n        var email = $('#subscriber-email').val();\n        var marketingPermission = $('#marketing-permission').is(':checked');\n        var groupNumber = $('#mailerlite-subscribe-form').data('group-number');\n        var formName = $('#mailerlite-subscribe-form').data('form-name');\n\n        // Check if the acceptance box is checked\n        if (!marketingPermission) {\n            // If it's not checked, show an error message and stop the form submission\n            $(\"#response-message\").html(\"You must agree to the marketing permissions to continue.\");\n            return;\n        }\n\n        // Check if firstName is empty\n        if (firstName === '') {\n            // If it's empty, show an error message and stop the form submission\n            $(\"#response-message\").html(\"First name cannot be empty.\");\n            return;\n        }\n\n        // Check if lastName is empty\n        if (lastName === '') {\n            // If it's empty, show an error message and stop the form submission\n            $(\"#response-message\").html(\"Last name cannot be empty.\");\n            return;\n        }\n\n        // Check if email is empty or invalid\n        if (email === '' || !validateEmail(email)) {\n            // If it's empty or invalid, show an error message and stop the form submission\n            $(\"#response-message\").html(\"Email cannot be empty or invalid.\");\n            return;\n        }\n      \n        $.ajax({\n            type: \"POST\",\n            url: my_script_vars.ajax_url,\n            data: {\n                action: \"subscribe_to_mailerlite\",\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                marketingPermission: marketingPermission,\n                groupNumber: groupNumber,\n                tracking: window.location.href \n            },\n            success: function(response) {\n                // Handle the response from the server\n                onSuccessfulSubscribe(formName);\n            },\n            error: function(jqXHR, textStatus, errorThrown){\n                // If there's an error, display it in the #response-message\n                $(\"#response-message\").html(\"Error: \" + textStatus);\n            }\n        });\n    });\n});\n\nfunction onSuccessfulSubscribe(formName) {\n    document.querySelector('#mailerlite-subscribe-form').classList.toggle('hidden');\n    document.querySelector('#form-success').classList.toggle('hidden');   \n     // Push event to the Data Layer\n     console.log(formName);\n     window.dataLayer = window.dataLayer || [];\n     window.dataLayer.push({\n         'event': 'form_submit',\n         'form_name': formName,\n         'full_url': window.location.href\n     });\n\n}\n\nfunction validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n"],"mappings":"AAAAA,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAASC,CAAC,EAAE;EAC/BA,CAAC,CAAC,4BAA4B,CAAC,CAACC,EAAE,CAAC,QAAQ,EAAE,UAASC,CAAC,EAAE;IACrDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIC,SAAS,GAAGJ,CAAC,CAAC,wBAAwB,CAAC,CAACK,GAAG,CAAC,CAAC;IACjD,IAAIC,QAAQ,GAAGN,CAAC,CAAC,uBAAuB,CAAC,CAACK,GAAG,CAAC,CAAC;IAC/C,IAAIE,KAAK,GAAGP,CAAC,CAAC,mBAAmB,CAAC,CAACK,GAAG,CAAC,CAAC;IACxC,IAAIG,mBAAmB,GAAGR,CAAC,CAAC,uBAAuB,CAAC,CAACS,EAAE,CAAC,UAAU,CAAC;IACnE,IAAIC,WAAW,GAAGV,CAAC,CAAC,4BAA4B,CAAC,CAACW,IAAI,CAAC,cAAc,CAAC;IACtE,IAAIC,QAAQ,GAAGZ,CAAC,CAAC,4BAA4B,CAAC,CAACW,IAAI,CAAC,WAAW,CAAC;;IAEhE;IACA,IAAI,CAACH,mBAAmB,EAAE;MACtB;MACAR,CAAC,CAAC,mBAAmB,CAAC,CAACa,IAAI,CAAC,0DAA0D,CAAC;MACvF;IACJ;;IAEA;IACA,IAAIT,SAAS,KAAK,EAAE,EAAE;MAClB;MACAJ,CAAC,CAAC,mBAAmB,CAAC,CAACa,IAAI,CAAC,6BAA6B,CAAC;MAC1D;IACJ;;IAEA;IACA,IAAIP,QAAQ,KAAK,EAAE,EAAE;MACjB;MACAN,CAAC,CAAC,mBAAmB,CAAC,CAACa,IAAI,CAAC,4BAA4B,CAAC;MACzD;IACJ;;IAEA;IACA,IAAIN,KAAK,KAAK,EAAE,IAAI,CAACO,aAAa,CAACP,KAAK,CAAC,EAAE;MACvC;MACAP,CAAC,CAAC,mBAAmB,CAAC,CAACa,IAAI,CAAC,mCAAmC,CAAC;MAChE;IACJ;IAEAb,CAAC,CAACe,IAAI,CAAC;MACHC,IAAI,EAAE,MAAM;MACZC,GAAG,EAAEC,cAAc,CAACC,QAAQ;MAC5BR,IAAI,EAAE;QACFS,MAAM,EAAE,yBAAyB;QACjChB,SAAS,EAAEA,SAAS;QACpBE,QAAQ,EAAEA,QAAQ;QAClBC,KAAK,EAAEA,KAAK;QACZC,mBAAmB,EAAEA,mBAAmB;QACxCE,WAAW,EAAEA,WAAW;QACxBW,QAAQ,EAAEC,MAAM,CAACC,QAAQ,CAACC;MAC9B,CAAC;MACDC,OAAO,EAAE,SAAAA,CAASC,QAAQ,EAAE;QACxB;QACAC,qBAAqB,CAACf,QAAQ,CAAC;MACnC,CAAC;MACDgB,KAAK,EAAE,SAAAA,CAASC,KAAK,EAAEC,UAAU,EAAEC,WAAW,EAAC;QAC3C;QACA/B,CAAC,CAAC,mBAAmB,CAAC,CAACa,IAAI,CAAC,SAAS,GAAGiB,UAAU,CAAC;MACvD;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,SAASH,qBAAqBA,CAACf,QAAQ,EAAE;EACrCd,QAAQ,CAACkC,aAAa,CAAC,4BAA4B,CAAC,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EAC/EpC,QAAQ,CAACkC,aAAa,CAAC,eAAe,CAAC,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EACjE;EACAC,OAAO,CAACC,GAAG,CAACxB,QAAQ,CAAC;EACrBU,MAAM,CAACe,SAAS,GAAGf,MAAM,CAACe,SAAS,IAAI,EAAE;EACzCf,MAAM,CAACe,SAAS,CAACC,IAAI,CAAC;IAClB,OAAO,EAAE,aAAa;IACtB,WAAW,EAAE1B,QAAQ;IACrB,UAAU,EAAEU,MAAM,CAACC,QAAQ,CAACC;EAChC,CAAC,CAAC;AAEP;AAEA,SAASV,aAAaA,CAACP,KAAK,EAAE;EAC1B,IAAIgC,EAAE,GAAG,yJAAyJ;EAClK,OAAOA,EAAE,CAACC,IAAI,CAACC,MAAM,CAAClC,KAAK,CAAC,CAACmC,WAAW,CAAC,CAAC,CAAC;AAC/C"}