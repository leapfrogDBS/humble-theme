{"version":3,"file":"navigation.min.js","names":["siteNavigation","document","getElementById","button","getElementsByTagName","menu","style","display","classList","contains","add","addEventListener","toggle","getAttribute","setAttribute","event","isClickInside","target","remove","links","linksWithChildren","querySelectorAll","link","toggleFocus","type","self","tagName","toLowerCase","parentNode","menuItem","preventDefault","children"],"sources":["navigation.js"],"sourcesContent":["/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n(function () {\n  const siteNavigation = document.getElementById('site-navigation');\n\n  // Return early if the navigation doesn't exist.\n  if (!siteNavigation) {\n    return;\n  }\n  const button = siteNavigation.getElementsByTagName('button')[0];\n\n  // Return early if the button doesn't exist.\n  if ('undefined' === typeof button) {\n    return;\n  }\n  const menu = siteNavigation.getElementsByTagName('ul')[0];\n\n  // Hide menu toggle button if menu is empty and return early.\n  if ('undefined' === typeof menu) {\n    button.style.display = 'none';\n    return;\n  }\n  if (!menu.classList.contains('nav-menu')) {\n    menu.classList.add('nav-menu');\n  }\n\n  // Toggle the .toggled class and the aria-expanded value each time the button is clicked.\n  button.addEventListener('click', function () {\n    siteNavigation.classList.toggle('toggled');\n    if (button.getAttribute('aria-expanded') === 'true') {\n      button.setAttribute('aria-expanded', 'false');\n    } else {\n      button.setAttribute('aria-expanded', 'true');\n    }\n  });\n\n  // Remove the .toggled class and set aria-expanded to false when the user clicks outside the navigation.\n  document.addEventListener('click', function (event) {\n    const isClickInside = siteNavigation.contains(event.target);\n    if (!isClickInside) {\n      siteNavigation.classList.remove('toggled');\n      button.setAttribute('aria-expanded', 'false');\n    }\n  });\n\n  // Get all the link elements within the menu.\n  const links = menu.getElementsByTagName('a');\n\n  // Get all the link elements with children within the menu.\n  const linksWithChildren = menu.querySelectorAll('.menu-item-has-children > a, .page_item_has_children > a');\n\n  // Toggle focus each time a menu link is focused or blurred.\n  for (const link of links) {\n    link.addEventListener('focus', toggleFocus, true);\n    link.addEventListener('blur', toggleFocus, true);\n  }\n\n  // Toggle focus each time a menu link with children receive a touch event.\n  for (const link of linksWithChildren) {\n    link.addEventListener('touchstart', toggleFocus, false);\n  }\n\n  /**\n   * Sets or removes .focus class on an element.\n   */\n  function toggleFocus() {\n    if (event.type === 'focus' || event.type === 'blur') {\n      let self = this;\n      // Move up through the ancestors of the current link until we hit .nav-menu.\n      while (!self.classList.contains('nav-menu')) {\n        // On li elements toggle the class .focus.\n        if ('li' === self.tagName.toLowerCase()) {\n          self.classList.toggle('focus');\n        }\n        self = self.parentNode;\n      }\n    }\n    if (event.type === 'touchstart') {\n      const menuItem = this.parentNode;\n      event.preventDefault();\n      for (const link of menuItem.parentNode.children) {\n        if (menuItem !== link) {\n          link.classList.remove('focus');\n        }\n      }\n      menuItem.classList.toggle('focus');\n    }\n  }\n})();\n//# sourceMappingURL=navigation.min.js.map\n"],"mappings":"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"}